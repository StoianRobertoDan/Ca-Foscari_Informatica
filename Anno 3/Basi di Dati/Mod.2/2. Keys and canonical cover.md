Keys:
- Definition:
	- Given the schema $R(T,F)$, $W\subseteq T$ is a key or $R$ if:
		- $W\rightarrow T\in F^{+}$
		- $\forall V\subset W, \;V\rightarrow T \notin F^{+}$
			- This means that $W$ is the smallest key (there are not subsets of $W$ that are themselves key).
			- If this condition is not met but the previous one is, than we are referring to a *superkey*.
	- An attribute is "*prime*" if it belongs to a key (or candidate key).
	- We choose the *primary key* from the list of candidate keys.
- To verify if $X$ is a candidate key we need to:
	- Verify it is a superkey:
		-  Find the closure $X^{+}_{F}$ and see if $X^{+}_{F} = T$
	- Verify that it doesn't have subset key":
		- Verify that $\forall A\in X,\; (X\backslash \{A\})^{+}_{F}\neq T$
			- This means trying to exclude from the superkey every single attribute to see if it remains a key.
- To find all possible candidate keys:
	- Base conditions:
		- If $A\in T$ does not appear in the right-hand side of some FD's, than $A$ must belong in any candidate key.
		- If $A\in T$ does appear in the right-hand side of some FD's but never in the left-hand side than it doesn't belong in any key.
	- Algorithm:
		- $Z = \{B \in T | \forall X \rightarrow Y \in F : B \notin Y \}$ //don't appears on the right
		- $V = \{B \in T | \forall X \rightarrow Y \in F : B \notin X \}$ //don't appears on the left
		- $Cand = [Z :: (T \backslash (Z \cup V )]$ //don't appears on the right :: ones that appear in both
		- $Keys = [\;]$
		- **while** $Cand \neq [\;]$ **do**
			- $X :: (Y) = Head(Cand)$
			- $Cand = Tail(Cand)$
			- **if** $\nexists K \in Keys : K \subset X$ **Then**
				- **if** $X_{F}^{+} = T$ **then**
					-  $Keys = Keys + X$
				- **else**
					- $A_{1} , \ldots , A_{n} = Y \backslash X_{F}^{+}$
					- **for** $i \in 1, \ldots, n$ **do**
						- $Cand = Cand + XA_{i} :: (A_{i+1} ,..., A_{n})$
	- Example with $G = {AB → C , E → A, A → E , B → F }$:
		- Cand = $[BD :: (AE)]$
		- Keys = $[\;]$
			- $X :: (Y) = BD :: (AE)$
			- $X_{G}^{+} = BD_{G}^{+} = BDF$ , quindi BD non è una chiave
			- $Y \backslash X_{G}^{+} = AE$
		- Cand = $[BDA :: (E), BDE :: ()]$
		- Keys = $[\;]$
			- $X :: (Y) = BDA :: (E)$
			- $X_{G}^{+} = BDA_{G}^{+} = BDACEF$, quindi BDA è una chiave
		- Cand = $[BDE :: ()]$
		- Keys = $[BDA]$
			- $X :: (Y) = BDE :: ()$
			- $X_{G}^{+}= BDE_{G}^{+} = BDEACF$ , quindi BDE è una chiave
		- Cand = $[\;]$
		- Keys = $[BDA, BDE ]$

Canonical cover:
- Two sets of FDs, F and G, over schema R are equivalent, written $F \equiv G, \Leftrightarrow F^{+} = G^{+}$.
	- If $F \equiv G$, then F is a cover for G (and G a cover for F).
- To test if two sets are covers of each other it is necessary to test if every dependency in F is in $G^{+}$ and every dependency in G is in $F^{+}$.
- Given $X \rightarrow Y \in F$, we say that X contains an *extraneous attribute* $A_{i} \Leftrightarrow X - \{A_{i}\} \rightarrow Y \in F^{+}$.
- $X \rightarrow Y$ is a *redundant dependency* $\Leftrightarrow X \rightarrow Y \in (F - \{X \rightarrow Y\})^{+}$.
- F is called a *canonical cover* iff
	- Every right side of a dependency in F is a single attribute;
	- No attribute on any left side is extraneous;
	- No dependency in F is redundant.
- Every set of dependencies $F$ is equivalent to a set $F^{+}$ that is a canonical cover.
	[pdf2_p15, Fondamenti_p156, Essential_p43]